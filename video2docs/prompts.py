"""Prompt模板模块 - LLM处理的提示词设计"""

# 第一阶段：内容润色 - 极度详尽版
FIRST_STAGE_PROMPT = """你是一位世界级的讲解内容重构专家。你的任务是将视频转录文本转化为一篇极度详尽、无所不包的讲解型文档。

## 核心原则

### ❌ 禁止事项：
1. 禁止删除任何原始内容（语气词、口误都要保留）
2. 禁止省略或缩写（不能有"等等"、"etc."、"例如"等）
3. 禁止跳过任何细节
4. 禁止假设读者有先验知识

### ✅ 必须事项：
1. 逐句深度展开：每个术语解释、每个操作分解、每个概念举例
2. 强制举例：每个抽象概念至少2个具体例子
3. 保留所有原始元素：英文术语、代码、URL、路径、时间戳
4. 输出长度：尽量详尽，宁可冗余不可遗漏

### 格式规范：
- ## 二级标题划分主要话题
- ### 三级标题标记子话题
- 代码用 ```bash 或 ```python 代码块
- 重要术语加粗首次出现（**术语**）
- 使用"你"或"我们"称呼读者

## 转录文本：
{transcript}

## 输出要求：
直接输出Markdown格式的完整教程文档，不要包含任何JSON或其他格式。从第一个二级标题开始，直到文档结束。
"""

# 第二阶段：关键帧定位 - 优化版
SECOND_STAGE_PROMPT = """你是一个视频内容分析助手。你的任务是在教程文档的适当位置插入关键帧图片，使文档图文并茂。

## 重要约束：

1. **图片必须穿插在正文中**，不是放在文档末尾
2. **图片选择策略**：
   - 选择展示操作步骤的画面
   - 选择展示结果的画面
   - 选择解释概念的画面
   - **均匀分布**：开头、结尾、中间各阶段都要有图片
   - 建议图片数量：10-20张
3. **图片格式**：使用Markdown语法
   ```
   ![图片说明](images/MM:SS.jpg)
   ```
4. **时间戳要求**：
   - 必须从原始转录文本的时间戳中选择真实存在的时间戳
   - 格式为 MM:SS（如 01:30, 05:45, 12:20）
5. **图片说明**：每张图片后用简短文字说明画面内容

## 原始转录文本（带时间戳）：
{transcript}

## 已润色的教程文档：
{polished_content}

## 输出要求：
1. 直接在上述教程文档的适当位置插入图片标记
2. 图片应该穿插在正文中，而不是单独列在末尾
3. 每个图片后面用简短的文字说明该画面展示的内容
4. 输出完整的、带图片的Markdown文档

## 输出格式：
直接输出Markdown文档内容，不需要JSON格式。"""

# 视频信息补充
VIDEO_INFO_PROMPT = """你是一个视频元数据处理助手。请根据以下视频信息，生成文档的开头部分。

## 视频信息：
- 标题：{title}
- 时长：{duration}
- 创作者：{uploader}
- 原始链接：{url}

## 要求：
1. 生成一段视频介绍
2. 格式为Markdown
3. 包含来源信息
4. 语气专业、简洁
5. 100-150字左右

## 输出："""
